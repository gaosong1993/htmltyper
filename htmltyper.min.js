window.Htmltyper=(function(){const privateProperty=new WeakMap();const createElementFromString=(htmlString)=>{if(htmlString.trim().startsWith('<t')){htmlString=`<table>${htmlString}</table>`}const tempDiv=document.createElement('div');tempDiv.innerHTML=htmlString;const lastChild=(el)=>el.firstChild?lastChild(el.firstChild):el;return lastChild(tempDiv)};const decodeHtmlEntities=(str)=>str.replace(/&[a-zA-Z0-9#]+;/g,(match)=>({"&nbsp;":" ","&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'","&cent;":"¢","&pound;":"£","&yen;":"¥","&euro;":"€","&copy;":"©","&reg;":"®","&trade;":"™","&times;":"×","&divide;":"÷","&sect;":"§","&para;":"¶","&bull;":"•","&hellip;":"…","&prime;":"′","&Prime;":"″","&oline;":"‾","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&laquo;":"«","&raquo;":"»","&larr;":"←","&rarr;":"→","&uarr;":"↑","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&weierp;":"℘","&image;":"ℑ","&real;":"ℜ","&trade;":"™","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋"})[match]||match);const sleep=async(time)=>new Promise((resolve)=>setTimeout(resolve,time));return class HtmlTyper{constructor(html){privateProperty[this]={};privateProperty[this].html=decodeHtmlEntities(html)}get html(){return privateProperty[this].html}async animate(el,time=20){privateProperty[this].html=el.innerHTML;el.innerHTML='';this.run(el,time)}async run(el,time=20){const elStock=[];var a=el;for(let i=0;i<this.html.length;i++){const char=this.html[i];const charNext=i+1>this.html.length?"":this.html[i+1];if(char==="<"&&charNext!=="/"&&a.tagName!=='CODE'){var b='';var c='';var d=1;while(this.html[i]!==">"){c+=this.html[i];(d&=(this.html[i]!==" "))&&(b+=this.html[i]);++i}c+=this.html[i];const dom=createElementFromString(c);a.appendChild(dom);if(this.html[i-1]!=="/"){elStock.unshift(a);a=dom}}else if(char==="<"&&charNext==="/"){while(this.html[i]!==">"){++i}a=elStock.shift()}else{a.innerHTML+=this.html[i];await sleep(time)}}}}})()